\documentclass[a4paper]{article}

\usepackage[margin=2cm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{booktabs}
\usepackage[fleqn]{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{float}
\usepackage{color}
\usepackage{caption}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{struktex}

\DeclareMathOperator*{\search}{SEARCH}
\DeclareMathOperator*{\mindSearch}{\forall SEARCH}

\title{”Programozás”\\ beadandó feladat:\\ 4. feladat}
\date{2017-03-06}
\author{Készítette: Bárdosi Bence\\ Neptun-azonosító: VY9NJN\\ E-mail: bardosi.bence@gmail.com}

\renewcommand*\contentsname{Tartalom}
\renewcommand*\figurename{}


\begin{document}
  \pagenumbering{gobble}
  \maketitle
  \newpage

  \pagenumbering{arabic}
  \tableofcontents
  \newpage

  \section{Dokumentáció}
    \subsection{Feladat}
    Madarak életének kutatásával foglalkozó szakemberek n különböző településen m különböző madárfaj előfordulását tanulmányozzák. Egy adott időszakban megszámolták, hogy az egyes településen egy madárfajnak hány egyedével találkoztak.
    Volt-e olyan település, ahol mindegyik madárfaj előfordult?
    \subsection{Specifikáció}
        \begin{align*}
          \mathbf{A=}\, \left ( adat: \mathbb{N}^{n x m} , l: \mathbb{L} \right )
        \end{align*}
        \begin{align*}
          \mathbf{Ef=}\, \left ( adat=adat' \right )
        \end{align*}
        \begin{align*}
          \mathbf{Uf=}\, \left ( Ef \wedge (l,\_)=\search_{i=1}^n mind(i) \right )
        \end{align*}
        \begin{align*}
          \mathbf{ahol}\, mind(i): \mathbb{N} \rightarrow \mathbb{L}
        \end{align*}
        \begin{align*}
          \mathbf{\acute{e}s}\, \forall i \in [1..n]: mind(i)=\mindSearch_{j=1}^{m} adat[i,j]>0
        \end{align*}
    \subsection{Algoritmus}
      A feladatot a lineáris keresés, az alfeladatot az optimista lineáris keresés programozási tételeire vezetjük vissza.
      \begin{tabular}{cc}
          \begin{minipage}{.5\linewidth}
            \begin{tabular}{ccc}
              & & \\
              & Lin. ker. & \\
              \midrule
              Tétel & & Feladat \\
              \midrule
              $m$ & $\leftarrow$ & 1 \\
              $n$ & $\leftarrow$ & n \\
              $ind$ & $\leftarrow$ & $\_$ \\
              $\beta (i)$ & $\leftarrow$ & $mind(i)$ \\
              \midrule
              & & \\
            \end{tabular}
            \input{./structs/lk}
          \end{minipage} &

          \begin{minipage}{.5\linewidth}
            \begin{tabular}{ccc}
              & & \\
              & Opt. lin. ker. & \\
              \midrule
              Tétel & & Feladat \\
              \midrule
              $m$ & $\leftarrow$ & 1 \\
              $n$ & $\leftarrow$ & m \\
              $i$ & $\leftarrow$ & $j$ \\
              $\beta (i)$ & $\leftarrow$ & $adat[i,j]>0$ \\
              \midrule
              & &  \\
            \end{tabular}
            \input{./structs/olk}
          \end{minipage}
      \end{tabular}
    \subsection{Implementáció}
        \subsubsection{Adattípusok megvalósítása}
        A tervben szereplő mátrixot \texttt{vector<vector<int>>}-ként deklaráljuk. Mivel a vektor 0-tól indexelődik, azért a tervbeli ciklusok indextartományai a \texttt{0..n–1} és a \texttt{0..m–1} intervallumra módosulnak, ahol a \texttt{n}-re \texttt{t.size()} alakban, \texttt{m}-re pedig \texttt{t[i].size()} alakban hivatkozhatunk.
        \subsubsection{Bemenő adatok formája}
        Az adatokat be lehet olvasni egy szöveges állományból vagy meg lehet adni billentyűzetről. A program először megkérdezi az adatbevitel módját, majd a szöveges állományból való olvasást választva bekéri az állomány nevét. A billentyűzetről vezérelt adatbevitelt a program párbeszéd-üzemmódban irányítja, és azt megfelelő adat-ellenőrzésekkel vizsgálja. A szöveges állomány formája kötött, arról feltesszük, hogy helyesen van kitöltve, ezért ezt külön nem ellenőrizzük. Az első sor a városok és a madárfajok számát tartalmazza, szóközökkel vagy tabulátor jelekkel elválasztva. Ezt követően következnek a városonként megfigyelt madárfajok egyedeinek száma kötött sorrendben. A fájlt egy sorvége jel zárja.
      \subsubsection{Program váz}
      A program több állományból áll. A read csomag (\texttt{read.h, read.cpp}) felel az adatok helyes beolvasásáról és azok ellenőrzéséről. A "madar" csomag (\texttt{madar.h, madar.cpp}) felel feladat megoldásáért. Végül a "teszt" csomag (\texttt{catch.hpp, test.h, test.cpp}) az egységteszt megszervezéséért felel. A csomagokban található függvények/állományok feladatai az alábbi táblázatokból olvashatók.
      \begin{table}[H]
        \caption*{Read csomag}
        \begin{tabular}{l|l}
          \toprule
          Függvény & Feladat \\
          \midrule
          read & Megkérdezi a felhasználótól, hogy milyen módon kívánja az adatokat bevinni.\\
          from\_file &  Megnyitja a megadott szöveges állományt,és beolvassa azadatokat.\\
          from\_console & Párbeszédes formában bekéri a felhasználótól az adatokat.\\
          safecin & Ellenőrzi, hogy a kapott adat természetes szám-e. Hiba esetén értesíti a felhasználót.\\
          \bottomrule
        \end{tabular}
      \end{table}
      \begin{table}[H]
        \caption*{Madar csomag}
        \begin{tabular}{l|l}
          \toprule
          Függvény & Feladat \\
          \midrule
          madar & Megadja, hogy az adott mátrixban létezik-e megfelelő tulajdonságú város.\\
          mind &  Megadja, hogy az adott tömbben minden madárfajból előfordul-e legalább 1.\\
          \bottomrule
        \end{tabular}
      \end{table}
      \begin{table}[H]
        \caption*{Test csomag}
        \begin{tabular}{l|l}
          \toprule
          Állomány & Feladat \\
          \midrule
          test.h & Tartalmazza azt a flag-et, amely megszervezi, hogy programfutás, vagy egységteszt forduljon.\\
          test.cpp & Egységteszteket tartalmazó állomány\\
          catch.hpp & Külső könyvtár, mely megszervezi az automatikus egységtesztet.\\
          \bottomrule
        \end{tabular}
      \end{table}
      \includegraphics[width=\textwidth]{fgv}
    \subsection{Tesztelés}
      \subsubsection{A feladat specifikációjára épülő (fekete doboz) tesztesetek:}
      \begin{table}[H]
        \caption*{}
        \begin{tabular*}{\textwidth}{ll}
          \toprule
          \textbf{Megszámlálás tétel} tesztesetei: & \\
          \textbf{intervallum hossza} szerint: & \\
          1. \textit{nulla} hosszú: & Egyetlen nap sincs \\
          & \quad be1.txt: [] - válasz: 0 \\
          2. \textit{egy} hosszú: & Egyetlen nap \\
          & \quad be2.txt: [5.2] - válasz: 0 \\
          3. \textit{kettő} hosszú: & Kettő, a feltételnek eleget nem tevő nap \\
          & \quad be3.txt: [5.2, 0] - válasz: 0 \\
          & Kettő, a feltételnek eleget tevő nap \\
          & \quad be3.txt: [0, -2] - válasz: 1 \\
          4. \textit{több} hosszú: & Több nap \\
          & \quad be5.txt: [0, -2, 0, 5, 6, 0, -0.5] - válasz: 2 \\
          \textbf{intervallum eleje} szerint: & \\
          & Sorozat elején található csak a feltételnek megfelelő nappár \\
          & \quad be6.txt: [0, -2, 0, 5, 6, 0] - válasz: 1 \\
          \textbf{intervallum vége} szerint: & \\
          & Sorozat végén található csak a feltételnek megfelelő nappár \\
          & \quad be7.txt: [0, 2, 0, 5, 6, 0, -2] - válasz: 1 \\
          \textbf{tételre jellemző esetek} szerint: & \\
          1. Egyetlen megfelelő nappár van: & \\
          & \quad be7.txt: [0, 2, 0, 5, 6, 0, -2] - válasz: 1 \\
          2. Nincs megfelelő nappár: & \\
          & \quad be8.txt: [0, 1, 2, 3, 4] - válasz: 0 \\
          3. Egy "0" napot több "negatív" nap követ: & \\
          & \quad be9.txt: [1, 2, 0, -1, -2, -1] - válasz: 0 \\
          \bottomrule
        \end{tabular*}
      \end{table}
    \subsubsection{A megoldó programra épülő (fehér doboz) tesztesetek:}
      \begin{itemize}
        \item Hibás vagy nem létező állománynév megadása.
        \item Állomány nevének megadása parancssorból.
        \item Olyan állomány olvasása, ahol egy sorban több érték is található egyetlen illetve több szóközzel és/vagy tabulátor jellel elválasztva (be10.txt).
        \item Olyan állomány olvasása, ahol minden érték külön sorban van (be9.txt).
        \item Olyan állomány olvasása, ahol az utolsó sort nem zárja sorvége jel, és éppen ennek a sornak a tartalma határozza meg az eredményt (adat: [1, 2, 3, 0, -1] – válasz: 1) (be11.txt).
        \item Főprogram ciklusának ellenőrzése: olyan bemenő adatokkal, amelyekre a ciklus egyszer sem fut le (Pl: be1.txt), pontosan egyszer fut le (Pl: be3.txt), vagy többször lefut(Pl:be5.txt).
      \end{itemize}


\end{document}
